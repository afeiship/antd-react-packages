---
id: 04-use-pipes
title: 04-use-pipes
sidebar_label: 04-use-pipes
slug: 04-use-pipes
---

### installation
- 直接用 `npm` 或者 `yarn` 安装。

```bash npm2yarn
npm install @jswork/antd-form-builder
```

### usage
```js
import FormBuilder from '@jswork/antd-components';
```

### preview
```jsx live
<FormBuilder
    pipes={[
        (ctx) => {
            const { form, meta } = ctx;
            const showHobby = form.getFieldValue('show-hobby');
            const hasHobbies = ctx.find('hobbies');
            if (showHobby) {
                if (!hasHobbies) {
                    meta.fields.push({
                        key: 'hobbies',
                        widget: 'checkbox-group',
                        label: 'Hobbies',
                        options: ['football', 'basketball', 'swimming']
                    });
                }
            } else {
                meta.fields = ctx.where((item) => item.key !== 'hobbies');
            }
            return ctx;
        }
    ]}
    presets={{
        username: { label: 'User Name', widget: 'input', required: true },
        password: { label: 'Password', widget: 'password', required: true }
    }}
    meta={{
        initialValues: [
            fetch('https://api.github.com/users/afeiship').then((r) => r.json()),
            (res) => {
                return {
                    username: res.login,
                    password: '123123'
                };
            }
        ],
        fields: [
            { key: 'username' },
            { key: 'password' },
            { key: 'show-hobby', widget: 'checkbox', label: 'Show Hobby' }
        ]
    }}
    onFinish={(e) => {
        console.log('target e: ', e);
    }}>
    <Row>
        <Col span={8}></Col>
        <Col span={16}>
            <Button htmlType="submit">Submit</Button>
        </Col>
    </Row>
</FormBuilder>
```